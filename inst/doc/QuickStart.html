<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Bocong Zhao and Rob J Hyndman" />


<title>Introduction to gratis</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to gratis</h1>
<h4 class="author">Bocong Zhao and Rob J Hyndman</h4>



<pre><code>## Warning: package &#39;knitr&#39; was built under R version 4.0.5</code></pre>
<div id="about-gratis" class="section level1">
<h1>About gratis</h1>
<p>The gratis package generates synthetic time series data with diverse and controllable characteristics. It uses Gaussian mixture autoregressive (MAR) models to generate a wide range of non-Gaussian and nonlinear time series. The theory and methods are described in <a href="https://robjhyndman.com/publications/gratis/">Kang, Li and Hyndman (2020)</a>.</p>
<p>Synthetic time series data can be used to train or evaluate new algorithms for tasks such as time series forecasting, clustering and classification, with limited input of human effort or computational resources. The gratis package can generate data that mimics and expands real data sets, or which is more diverse than existing real data.</p>
</div>
<div id="generate-diverse-time-series" class="section level1">
<h1>Generate diverse time series</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">library</span>(gratis)</span></code></pre></div>
<pre><code>#&gt; Registered S3 method overwritten by &#39;quantmod&#39;:
#&gt;   method            from
#&gt;   as.zoo.data.frame zoo</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">library</span>(feasts)</span></code></pre></div>
<pre><code>#&gt; Warning: package &#39;feasts&#39; was built under R version 4.0.5</code></pre>
<pre><code>#&gt; Loading required package: fabletools</code></pre>
<pre><code>#&gt; Warning: package &#39;fabletools&#39; was built under R version 4.0.5</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5</span>)</span></code></pre></div>
<p>A MAR model is a mixture of <span class="math inline">\(k\)</span> Gaussian ARIMA<span class="math inline">\((p,d,0)(P,D,0)_m\)</span> processes of the form <span class="math display">\[
  (1-B)^{d_i}(1-B^{m_i})^{D_i} (1-\phi_i(B))(1-\Phi_i(B)) y_t = c_i + \sigma_{i,t}\epsilon_t
\]</span> with probability <span class="math inline">\(\alpha_i\)</span>, where <span class="math inline">\(B\)</span> is the backshift operator, <span class="math inline">\(m_i\)</span> is the seasonal period, <span class="math inline">\(\epsilon_t\)</span> is a N(0,1) variate, and <span class="math inline">\(\phi_i(B)\)</span> and <span class="math inline">\(\Phi_i(B)\)</span> are polynomials in <span class="math inline">\(B\)</span> of order <span class="math inline">\(p_i\)</span> and <span class="math inline">\(P_i\)</span> respectively.</p>
<p>The function <code>mar_model()</code> generates a MAR model with randomly selected parameters. The orders are uniformly sampled such that <span class="math inline">\(p \in \{0,1,2,3\}\)</span>, <span class="math inline">\(d \in \{0,1,2\}\)</span>, <span class="math inline">\(P\in \{0,1,2\}\)</span> and <span class="math inline">\(D \in\{0,1\}\)</span> (with the restriction that <span class="math inline">\(d+D \le 2\)</span>). The parameters <span class="math inline">\(\phi_{j,i}\)</span> and <span class="math inline">\(\Phi_{j,i}\)</span> are uniformly sampled from the stationary parameter space, while the <span class="math inline">\(\sigma_{i}\)</span> values are uniformly sampled on <span class="math inline">\((1,5)\)</span> and the mixture weights are uniformly sampled on <span class="math inline">\((0,1)\)</span>. The number of components is uniformly sampled on <span class="math inline">\(\{1,2,3,4,5\}\)</span>. If required, each of these parameters can be specified by the user, rather than randomly selected.</p>
<p>The resulting model object can be passed to <code>generate()</code> to return a <code>tsibble</code> of time series generated from the model. Alternatively, it can be passed to <code>simulate()</code> to return one time series using either the <code>ts</code> or <code>msts</code> class (depending on whether there is more than one seasonal period).</p>
<p>Suppose we want to generate a random MAR model, and then generate 9 quarterly time series from it, each of length 5 years.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>qmar &lt;-<span class="st"> </span><span class="kw">mar_model</span>(<span class="dt">seasonal_periods =</span> <span class="dv">4</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>qmar</span></code></pre></div>
<pre><code>#&gt; Mixture AR model with 2 components:
#&gt;     ARIMA(0,2,0)(2,0,0)[4] with weight 0.43
#&gt;     ARIMA(1,2,0)(1,0,0)[4] with weight 0.57</code></pre>
<p>This shows <span class="math inline">\(k=2\)</span> components with weights 0.43, 0.57. Now we can generate time series from this model.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>qmar <span class="op">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">generate</span>(<span class="dt">nseries =</span> <span class="dv">9</span>, <span class="dt">length =</span> <span class="dv">20</span>) <span class="op">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">autoplot</span>(value)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>Each of these series comes from the same MAR model, but with different stochastic inputs. Although the two ARIMA models are seasonal, the seasonality is too weak to been in the plots.</p>
</div>
<div id="generate-mutiple-seasonal-time-series" class="section level1">
<h1>Generate mutiple seasonal time series</h1>
<p>Time series can exhibit multiple seasonal pattern of different length, especially when series observed at a high frequency such as daily or hourly data. Here is an example in which we generate 1 hourly time series of length 2 weeks.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>hmar &lt;-<span class="st"> </span><span class="kw">mar_model</span>(<span class="dt">seasonal_periods =</span> <span class="kw">c</span>(<span class="dv">24</span>, <span class="dv">7</span><span class="op">*</span><span class="dv">24</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>hmar <span class="op">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">generate</span>(<span class="dt">nseries =</span> <span class="dv">1</span>, <span class="dt">length=</span> <span class="dv">2</span><span class="op">*</span><span class="dv">7</span><span class="op">*</span><span class="dv">24</span>) <span class="op">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">autoplot</span>(value)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>This particular example shows strong time-of-day seasonality but no obvious day-of-week seasonality. In the next section we will see how to generate series with specific characteristics such as seasonality and trend.</p>
</div>
<div id="generate-time-series-with-targetted-features" class="section level1">
<h1>Generate time series with targetted features</h1>
<p>The functions <code>generate_target()</code> and <code>simulate_target()</code> can efficiently generate time series with targetted features. These use a genetic algorithm to tune the MAR parameters until the distance between the target feature vector and the feature vector of the synthetic time series is as small as possible. As before, the <code>generate...</code> function returns a <code>tsibble</code> while the <code>simulate...</code> function returns a <code>ts</code> or <code>msts</code> object.</p>
<p>Suppose we want to use generate a time series with the same level of trend and seasonality as the <code>USAccDeaths</code> data. First we create a function to measure the features we want to target. This time we will use <code>simulate()</code> rather than <code>generate()</code> so that the resulting time series has the same class as the <code>USAccDeaths</code> data.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="kw">library</span>(tsfeatures)</span></code></pre></div>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;tsfeatures&#39;</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:feasts&#39;:
#&gt; 
#&gt;     unitroot_kpss, unitroot_pp</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>my_features &lt;-<span class="st"> </span><span class="cf">function</span>(y) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>  <span class="kw">c</span>(<span class="kw">stl_features</span>(y)[<span class="kw">c</span>(<span class="st">&quot;trend&quot;</span>, <span class="st">&quot;seasonal_strength&quot;</span>, <span class="st">&quot;peak&quot;</span>, <span class="st">&quot;trough&quot;</span>)])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a>}</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">simulate_target</span>(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a>  <span class="dt">length =</span> <span class="kw">length</span>(USAccDeaths),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a>  <span class="dt">seasonal_periods =</span> <span class="kw">frequency</span>(USAccDeaths),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a>  <span class="dt">feature_function =</span> my_features, <span class="dt">target =</span> <span class="kw">my_features</span>(USAccDeaths)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="co"># Make new series same scale and frequency as USAccDeaths</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">ts</span>(<span class="kw">scale</span>(y) <span class="op">*</span><span class="st"> </span><span class="kw">sd</span>(USAccDeaths) <span class="op">+</span><span class="st"> </span><span class="kw">mean</span>(USAccDeaths))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a><span class="kw">tsp</span>(y) &lt;-<span class="st"> </span><span class="kw">tsp</span>(USAccDeaths)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a><span class="kw">cbind</span>(USAccDeaths, y) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">autoplot</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAGACAMAAABFpiBcAAAA7VBMVEUAAAAAADoAAGYAOmYAOpAAZrYAv8QzMzM6AAA6ADo6AGY6OpA6ZrY6kNtNTU1NTW5NTY5NbqtNjshmAABmADpmAGZmOgBmOpBmZgBmZmZmtv9uTU1uTW5uTY5ubo5ubqtuq8huq+SOTU2OTW6OTY6Obk2ObquOyP+QOgCQOjqQOmaQkDqQtpCQ27aQ2/+rbk2rbm6rbo6rjk2ryKur5OSr5P+2ZgC2Zjq225C2/9u2///Ijk3I///bkDrb25Db/9vb///kq27k///r6+vy8vL4dm3/tmb/yI7/25D/5Kv//7b//8j//9v//+T///9oNSY3AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAdaklEQVR4nO2dC5vUOHaGeyaDBiahoZlsNmF2wgKTwObSTLKBTKDJQjuiaZr2//858d26HMmSLNunXN/39FMuVR1/ZR+/LUvy7aSEIMY62XoBIMgnAAqxFgCFWAuAQqwFQCHWAqAQawFQiLUAKMRaABRiLQAKsRYAhVgLgEKsBUAh1gKgEGsBUIi1ACjEWgAUYi0ACrEWAIVYC4BCrAVAIdYCoBBrAVCItQAoxFoAFGItAAqxFgCFWAuAQqwFQCHWAqAQawFQiLVyAFpQoj+NDYHN6jYZgMgpAAobo8hLABQ2RpGX0AaFWAs1KGyMIi8BUNgYRV4CoLAxirwEQGFjFHkJgMLGKPISAIWNUeQlAAobo8hLABQ2RpGXAChsjCIvAVDYGEVe2hJQGZ+9xBDYhMdkACKnAChsjCIvAVDYGEVe2hBQWQYQynpb7tImAxA5BUBhYxR5CYDCxijyEgCFjVHkJQAKG6PISwAUNkaRl7YDVFYh04Sy3pa7tMkARE4BUNgYRV4CoLAxirwEQGFjFHkJgMLGKPISAIWNUeSlzQCVTcgkoay35S5tMgCRU15Ar3++GCY3z07PLs1Jq6TUAFCmNksTFykfoFenDy/6ye2rF+XHR8akU1JqAChTm+WZi5IH0HcP/lxXne3k5peLuibVJ11gUmoAKFObVbALV+gu/vrJZXnz/LU+qb77vlLSD0vlFYJcCgX06qxBUp90YUn/u20NOlmFsq5sdmmzOHJxmluD1kpJjSwAKE+bxZGLUyigudugAJSrzeLIxSkU0NtXT9vuuzrplJIaAMrVZmniIrXVOCgA5WqzNHGR2upIEgDlapMBiJzaGtApQllvy13aZAAipzYCVA4hAJSZTQYgcgqAwsYo8hIAhY1R5CUAChujyEsAFDZGkZc2B3SCUNbbcpc2GYDIqW0AlUoIAOVlkwGInAKgsDGKvARAYWMUeQmAwsYo8hIAhY1R5CUA2kvksQGgeQVAewHQrshL2wPqJ3S1bSkAaFfkpU0AlVoIE0DLAELXI2u7R/RkACKnAGgnDVAXqwB0dQHQTgC0L/ISAG0lCgDaFXkJgLbSAHV2mADo6gKgrSpAx3pTuKpQALq6AGgjUQDQvshLOQCNlvSUtpEYXto3wh26iiSLrHDQFjWo1EPY1aDC2UtarQbN9ZCzhIo4AxA5xQBQbxYB6KyfAqC1YrPHD1DRhoihBEC5CIDWAqBKkZcAaK39AhpvkwGInNoBoPNPQxJdiBhLtCkAXV0AtNgxoCk2GYDIqcMHNMOJnABULfLSBoBKM2QmoPNP5OwBVdgEoEwEQHsYe0CVajRhaQBoZh08oPp5ckk2ewY0/nm9GYDIKQ6A+pIIQOfZANByn4DShK4FaK5HlQPQRpHZYwyoMkYPQHno0AHVT+RMs9EAFdqHkUsTFgJAIwRAMwOa5fJ6ADpofUClHbItoEIJmQ1onvs/ZAI0ySYDEDl14IC2Z3nwAdR5sUicTUZAp30AqJk1K4QPoOp1SfFL4zkPKsoGgI4CoBkBVUapkpemEQAddNiA6md5eBQPKOkZsjQ5bvEEQAexANSTxLUBtT4OX5puMACAZtUOAJUA1GMDQAGoNgM7QCeNAKiRNCIkEdCWBSmzAGouQyKgEoBm1eEDWp/4wwHQ3iYDoLJI2TdTPjsH9Prni7K8eXZ6dumYtIrK3iKAThI6A1DVGoCuLh+gV6cPL8rbVy/Kj4/oSaeo7C0AaDFdhU6TZZ+B2Z0YeriAtjb7BfTdgz9XNejNLxd1TUpOusCo7LEDtAcLgHZFXprcxV8/uSxvnr8mJ1XI95WifpC8a1virdxEN6+cczc60S+CuRDdHe9CrXsfOf/OeFJ5nW1z4PfJmwT06qxhkZx0YVH/3kvUoNPVVnINKiLboJXNzJP/itw16JTRvmvQWlHZIwF153ASiXYweilAjaPrQTYANKcmAV2lDTob0KlG6CRZxMgjAOWgSUBvXz1t++3EpFNM9iQdIu1vvTaNRkAnq9BEQMUYEGYDQHNr7XHQhQF1wQFAg22WZy5Kax9J8gJK3IstDtCU58c4Ae3dAOiW2gmgVJc70GYE1KpCdwLohBMANZJGhcjuxUrlFKD9RiB6NIE2/RlRBKDaJMTGADTh36VwLk20jSwAaKuY7C0FqBRWgzHQJg+gfVB9XEuYH0YsTTEuTewhIMIFgDaKyZ4HUFnMAJTYHwfauAFVA6ZscgLakwVAyz0BWqiTcJu+CerZqY6ecYCmPvITgCpaGVDpCpHDXj7EppFS9Y1zzgJ0sgqdBLQZDACgGQVA+7kXADShwdEtDADtxQZQSadyAlB7I9BMTJDlR+LgAfU7AVAjaWQIAB0FQBWxAZQKcNo04gTo0EdSABUJDY5iemmibaacAKiRNDJkNqD+RmggoPSWBKAbigugZIDTphFXQIcTAwBoBgHQflY3oKPnIQEqlRAAGpq9zIBSG4GEAoAG22QAIqfWBVROhmwM6MQ+/lAB9VoBUCNp3pBwQA2yNgV0CFAATTu3ql8GT30eaANAB4Vnjx+gQx8pC6DdIf3xvKrYFrG+NACUH6BmKtcAVCohADQDEDm1P0BJKABosE0GIHLqoAFVyVoFUNfpSQB0Me0HUO8+3geoVENyANoQKjwzANBwAdAAQIezoQ8WUJ8VADWSFhMyB1AVDg+gUgtJAlQZZWIDqJ6b4wY0WCH3WQu+F5swY+X4RTMJusucMH+Q/P0Jy+Hj/n5yov8s5U53kng3x2W21aZatQYNqh0DatlGzhq0r7zCalBphPgaocLxhIRjrUE/3zvPgI9fuwVUP9DoajxGAep6NL0gAKXaGYP2AugaOlhAzfGhVEDNX4oGVK2pAWh2HTKgUg/RANWPhLsfkj0LUFFL/WDHgH6+e3Jy8rgsv748Ofn2bfn5h389+fa3ahfflYfvc2ungBqj5JPjQ0U8oMI27c/yyAXoBKFrAto0Nz/fffz15Z2yfP/dh8937zQfDuXu+ww46dozoMoAu+v5bzGAVi8aoHZYD2hFaDqgk8e1gmykGeK2CgP0h7fN9FNdW3758XHDYkXlUO6+z649AjpUmNkA7VsMxwto+ebkpKory/cnje63Nea9877cf59dawJq5igzoEoVagDq6n4vCKgn6jABrevJqrFZ7c2bwgBoV+6/z4CTLn6A6mFpgFrT/IBShlkAFUpIMqDSCpkPaLMr//TNefO2B7Qv999nwEnXLgFVg9pJBkBFE+MlLw+gYgzhA2jT1mw6RVWVWVHZA9qX++8z4KTruAEVyixZAbUWQdNEDSoKfoCWn6qWZl1b1sNK1bQHtC8P3+fWMQBqNB7V7/kBWi+SmAuoeXjMa4WBeleO5gA6HkgKA5QERRQ2oM5xppmAqvFbAOr2AqCuFM0E1NqNxQOqzjEBaNcyXB7Q9gWAdto3oOMIOwWUVoH6AR26LmGAqmOy6vzmElM/1L7OAlRSIYSXNGOaIi8dAaDGvln9Mh1QF59zAe0rdeFbmCkbAKorMHtWhlwJprAxNQNQhbEVASVGtMjfAaC69gSooxFqAToeZ4oAtI8xj6Kayz0XUH2aBCjR8yOtrKNNbZGXdg4o0f0ulCcqrQaooI4JuH8HgA7aP6D9gRl10wsRC+gQsyygw7hCfkBtrxhA/49WBnomdJyA9vv5FQAdquvVAHWlD4D6s2fnOqCR74pRqz8bUA0PGtBiVUBFEQroECImFwaAhiose7kB9RzOU39KOAC1AqMAJY+ccgfUNAOgrrT5E6wFpwCqbQlv74YboMo1pvkBrRMjiTgA6ko1uZWN4CRArSbg6oAavaRh2MBcYkMLA1po/7x7AfT6p9OHF2V58+z07NKctArJHpVpN6AUfeasgYAOMaGA+qBIBNScxw3oGBLQS0oBtNgdoDfPXpQfzy5vX1WTR6U+6RSSvd0AataGptnmgEp/yO4AvX5yWd48f33zy0V5/fOFPulCArJH8uk6zb2YBFTQIbJ/JUe0iLqPGaDK2VWLATp+nxHQ9prO+vXLj+1l8uWXvz3XHZoL5+0r56uZvFeEhgJKTqqvv69Ezkff2EuV8N1ay3+zK+GIkP0L/XulcTcv+kcm7rNl21DzjYVhNadvJCYUCxG0MFOL4fs+yjoQ0OaqpOZCuk//cF93aGLsq5ZmA9rs4h+8vjprkNQnXcj0PzJZD/hqUNe/dz9rQVeysn8xf5Cu+ujKJnMNal8E7Tv6MIQsXoO6dlKzAG0prCrPr3/6999/aK70/Oa8fe1i/vpDf/lnXaU+rt//9sPfN1XrpxPislAC0E96VNVJ+uOvzhp0KUAdg3T9rI4ErwWou4+0X0ClJQLQ5hq6sgXxzePy68vH5afv/tK8/u8P/Z7/zf3y/Z3mXYv057v3q+8/fPnd2/rzaUBtVU3O6DYoNeKmS9CnuevzOAElR6IGNnkD6lht7QqpxQAdu5J0jAvQsDZoXQ3W1869r5i7o37evX7903lNZg1jjevv3nbVbt08MFutYYDWFWXTb39qT5YEVN/e5qxTgJo/uSmg7je6dgFo2V2NfFLvr+sdertb77+tKKz7UQ3Eb5qQAdB6n29fFzpdg16dEgOgAeOgSqLoPXwRC6i2gdMA1X8wK6B6lZ8EqPZL0yP1fABtK78KxE/NLvrN44bJN4/tGrTblZdtf6nbxXeAtl9HAzotOnsbAWqmX4kR2wA6aDgbgF5t4xK+QwK0fHOnvmL+fttLr3B9X3fWP92p26Cff/if5vW3oRf/pmlyNljeOx8BreHkBuh0I1QDVD3fYzNAbRttNs8RUy+gwrxCanofTyZeBoaQ+WuKKYDWu+uTelyp3n9/c/71X8bd+dCLH8ZB2w/r+5D91d89/vry29+6GvRNYC+eK6D6TTcnAKU21KKAmuNiPkCJ4Qt9lQ4P0MW0BqCOPtIGgBo/lwqopwJNBFSYs9iA2oYANFBUEiYBFcUCgCon6/AFlLhTlN3eBKCdNgZ0klANUPWg9nKAeghdCFCiP6QC6uouAdBAUUnYHFCCviUBtfrE7m68/SwGcmkMQLVTtOwOpL0g7hBlNI6IobcxAHWk2gWo4hkMqNV95gFoX1gVUEf+iiMC1Nd6KhIAFdqLC1Dy7QAo9Qu2zbqADu8BKKWtABXFsLkLZWKleklAXdtyAlBqHNPeYToBrf8zhfGZPYcCqOhWWNk5ANAokUmIA5Qau5bj18O7KUCt+bWYXID6fisboEPfKApQ42cduZEAVAHUtYdXAHXvNQlAzTFDJ6BTMQcBaPdUMK3Sk1b73LXsALQWmYMYQN3HZpQx7aGDFApooVxmuzCg1NK4xpmEsv8uYgBVd0kANEZkDkIBLZR7edm5dgFq774dSmmurQmog8+lAfXkj97GxwyoMrhp5XoEdOxMRQGa0uGdAtTr5D0gJfoVnwVov7tPB9SXP3obHxugYsyMsxtPAjp0GaY3gvrrXACVADRS2wOqfmImUTlnVAPUMYBJyrkt8wFKbu5cgLaNdAA6Q2QKyiELqYA2Iyw2oGYFehSASjUiA6CeGHobA1BGgLoJnQ9ot+JJgCoJZQbom8fdhUf5tTygzj6SkRlqHz8Cqo3LOMmiBEAnFAiosDQC+ul+/beIWAMqxg21E0CLDIAOzVFiacwfXakG/fL7D/99noEkQocHaHQtIV0xDAB18dnYdPsOSQDqWqmNAO3uI7KEtgFUEJk5XEDpFjFlIs37PQcC2j3emy2g5XvzTkzZBEAJmwUB7ffNOwN0iSfFt8oBqEtSedVF3ehNWO/UqTJH7A3fXPFun8hfcIQTH8vh/nXWHe+I6O4+erKeTwmSjnDPx/M1AWh7nfESWvQW4NronSqqBlU6Dkr10tUkngo0uQZ1V8RZalDqQEVCDdqM0UsxBo3VKKca9G8ycESKIaCiyAtoPUMSoPaSzwa02Ceg7+17KuXS4oC6O/FuQJWxTxtQy3ApQK3HtswGVBnAjAJUDsflC8ES0AXFE9DxAHTZfrIJoKE/5QfUuI6vI8sElCJrFqBkikkBUFuHAKgM/qkJQMfvLUCdFagJaBcphR9QxQWAjnKudhKgw6ajAQ3d7ypaGFDXaNUCgFb9R6Xh4AeUOBZCC4BaEmRm9I0mVEB9FegCgA5wBjXpkgA1R3ddgDanxiQAOj6jdFJBgG4mvoAKZSPMA7SaZztA1Yp4NqBiaI0C0Ag5VzsFUPU0ig0BlVTIyoD2wxeySAF0GASZ0hEDSrbjikBAC3IjEHYLAuqLcfgA0LxaGlBPH4kzoHI6xuFD9LU02ucAWrfKwwDtWwcAtJZ7tQGo2pS1APWMTaiAFsUYL8MBrV8AaC33ascBahwyygdoIeM7SWRQBkD7lQKgYTowQCm7BQB1BcUPp84EdIzod/c+QLUmKAAd5F5tzoAG9dDZAeptg+oVaD0BoLXcq00DKtQQ/Quhf2A1HlcHVA9jBCjVsAagtNyrffSAmmgWY9UnYgHVDgUXSofedgGgmtyrnRtQssEQshGIGVcHdHyfAqj1TNoAQOvHoU7rmAH1NkGJzW3fRH5zQLU4ALq6mAFqlPcNqIfPzkb9hxXG1AbU4hOAtvKs9g4AVQNjAdXG+8dCHkCt26bbgNqVLCEAasoNqCkDUNItGlBpf+S3kb4Yn42cDSixNAA0Wp7V3gWgY2gqoOOIU5ERUPOBdQDUoZDVplK8FaDS+mjC5jAAJfgEoI1CVpvI8JqAag8HjwZ0iI0FVHuXCVCliw5Aa13/dPrwoixvnp2eXZqTViGrTSQ4GlCaz3hA9SZhkI10xgQDqtSmJqDEigXsgABoo5vnr8uPZ5e3r16UHx+V+qRTyGoTCY4+BJQH0J6VKEC76JyAKl30JECFBKC1rp9clje/XFR/5fXPxqQLCVltO8FHAKgWZQPq9PAvjQNQik/7yfSEDhzQrgZtOH3+Wp9UX39fKfInqTuHuSSdhUhJ7Z0sc90hLNRGjoHG/cOiF6W/75jUMymN74nCIWq6Ddo2N6/OGiT1SRcR8n9p1wAb1qBahRZoI+mYUBvtUZtGDUqtF2rQTtO7+D+8Lq8eXrhq0Fohq20neEtAi+Db2uizHQKg2odHAGhXWe6qDZoCaDNDVkDdHv6loQElK9BjALSrQW9fPW277+qkU8hq2wmOBtTBZxigah+l2AOgoqAB1Yk8AkDLq9PTB68zjoOK6ZBRSwFK3FtxYUDVgdh5gPZn1kv1oclHDOi0QlbbSK8/ZFR+QPsj8dGA1nNaMa5DQOTcw9vS9U3Y0vSXfkgCUANIAForZLWN9PpDRi0GaPwunjegdAUKQBuFrLaRXn/IKOaARoywrwOoySMArRWy2kZ6/SGjlgM03sYGNLbxSM+XA1DhAjTgYCcAJdLrD1Ekybdhv6TFzAe0yHWN6RKACjF8o9sA0OMFNJosckZ6gaYAFYUOaHvuCQAlFZfh3QAaTxY5Zy5A7WtiCwDaKi7DGwE6jC95QiYXhjegpA0AjQRUTIeoksS7wF8yYqTfZc0DrzMBLYQJqHD/8wJQABq9NNLxPtSmA7QcCAWgXkVl+JABzdXgAKDhAqBpS7MxoE0WAWigojIMQAvjEr54mzRA3R0pvchL3AEdtyUHQHMtTXZAPUsT0NPXi7y0GKCudABQABqj4wG0NZgJaI7x/sI6vz/WJglQYhif/KkMQOTU2oBqV3S50qrG5AXUzWccoLkq4sSmrNABdTZBNUBdm+RIAXWc6AVAixyA9jYANET0au8T0MxNWQA6pYMBdG7jMSugc20yAdo/NQmA+kWv9k4BzdpSmA1odxoTAPXKsdpkPqIBzdTqK3YF6GgTDCh1tij5UxmAyCkAmmDjcQGgmbUyoEIPmRY/QAvH8x2jbPIMpw6Aepema6c64/YPqEPUjdUSbrYmtckcyRwmeWykMU22aRLqz6oYXoXx2SHoiGrQLFWff1GCbbLWoO49vLMG9bS0MgCRU0ueLEIQCkDbGAAaKgAabTM7ZAtA9baqAKAA1B8ztVahNgA0QK7U5AE0z7Gb1gOAttIG7Y8XUJtQYYVMad+Azt4txAFKH1UCoKMAaB+TC9BmAB6A+uVPjaptAc3R/c4Rsjmg+lElADoKgPYxKwKq8AhA9dUe9yjmm7iNUABQp43w8QlAG3lTU6iDGgC0jwGggVoBUEFUpTEbIdtZHpwAnfq3A6CdlgdUPca2MaBzQ/gBWo8zRQA6dpgAKAWoIEJCNkKxU0BznJ2aCKiyLY4Z0H7ADYBaMasCqncCAOi42kJDMx1QPiPsuWwAaJgWr0GVxABQJSbbBSgCgE4pIMMA1IzJB+ikjQGouS0A6JAPADrGrAioMRANQKnVngMoq7M8stn4/+0WAnTs0QNQvWiMvVEhbpudAppjpaS3j2T0BAoA6swwADVjAGiQVrvDsgCgekymlQqx0QC1juoB0D4fAFSNAaBBAqBb2awIqCIAGpAaZ4jLRnI6DSmXDQAN0iSgH09rvShvnp2eXZbGpFVsapwhLhsAms9G7A3QWldnl7evXpQfH5X6pFNYauyb+IcjsUdA/f92ywFqvTl8QG+evy5vfrkor3++0Cfd92GpAaBGTJ6VAqBlU1deP7msQdUn1XffVwr8qRl3VMtyVzpuyrNSsffaE9Yb3goAtCGx2svXb/RJFxD7v+sOcdmgBnXGpLfPBR2zKG7xCgC0ptFZg9ZKzfChkpXJJtN/HQB997R6md8GTQqBzWTM0QN6+2tdU96+etp239VJp9QMHyoSvGyOHtBuVz57HDQpBDaTMUcP6LRSM3yoSPCyAaCTSs3woSKxExsAmiHBsFnOBoBmSDBslrMBoBkSDJsFbQQZkwGInAKgx2sDQOcnGDYL2gDQ+QmGzYI2AHR+gmGzoA0AnZ9g2CxoA0DnJxg2C9oA0PkJhs2CNgB0foJhs6ANAJ2fYNgsaSOomAxA5BQAPWIbADo7wbBZ0gaAzk4wbJa0AaCzEwyb1W0yAJFTABQ2RpGXAChsjCIvAVDYGEVeAqCwMYq8BEBhYxR5KQegELSYUIPCxijyEgCFjVHkJQAKG6PISwAUNkaRlwAobIwiLwFQ2BhFXgKgsDGKvLTYOGjooxVgsxObhQRAYZPHZiEBUNjksVlIABQ2eWwWEo7FQ6wFQCHWAqAQawFQiLUAKMRaeQFtHo94/dPpw4vy42mtF+XVaV2abVM2z6ifbVNPYxeHsLl9dfrg9fScEzbjus1bmra0ic3yygroVb2GN88qDtrH0F2dXdaJGB+amGxTvX6M3ZSUzbtYyJ02V+OT9pJtxskcm/pRgB8z2IwlTsoJ6LsHf65wHJ+E3D8PeXzs7Ayb63/8pzi4KJv2uaOzbepn6WawGSezbJpS3BI5bSIXZwXl38WPK9rXnLE1KGVz++t/Je3idZubZ/H7VMLm+sl/pu3irdxEp4ZaqYQalFypIwG02VXUm69b2+ufkralYfPxaVobVLe5/kNCLUrY/PSi2Z4zbeIrUNpGe7Jvss1Q4qVlOkl/rCEYmlfRm8G2qXBI7yTpSxPdDiWXJsdKxbdA6aWp/uuuUnt+ytL0JV5aANBKTZPo3dP+4yQkNJu2p/nUP9tqS3Pzz6mAGkvzLnKNSJsaryxLU6Y0rpfWArv4ukn0qOx2pcnZ023K1GEme2lu/yOhsjGW5l3qLl63SeizETbJNahu05eYaYEa9Oq0aRJ1WFZ1X9qQoW6TPA66yNJUrb60kUfDJqFPQthc5VmprsRMOJIEsRYAhVgLgEKsBUAh1gKgEGsBUIi1AKhDX1+etLrz+d751gtzxAKgHgHN7QVAPQKg2wuAetQCWr1+vvdvd09O7n+uXh63e/9v3269cEciAOrRCOjd7z6U70/ql2/ffn15pyzfV++hFQRAPVIArSrO9uXe+ae69vzy4+Otl+44BEA9Unbx512pennf9u7vb7tsxyIA6pEDUOzdVxQA9YgG9NM355su1XEJgHpEA/r1ZVWFgtKVBEA9ogFthpnA50oCoBBrAVCItQAoxFoAFGItAAqxFgCFWAuAQqwFQCHWAqAQawFQiLX+H81ORWj/wtj+AAAAAElFTkSuQmCC" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">cbind</span>(<span class="kw">my_features</span>(USAccDeaths), <span class="kw">my_features</span>(y))</span></code></pre></div>
<pre><code>#&gt;                        [,1]      [,2]
#&gt; trend             0.8024570 0.9587332
#&gt; seasonal_strength 0.9447945 0.8887976
#&gt; peak              7.0000000 7.0000000
#&gt; trough            2.0000000 2.0000000</code></pre>
<p>Next we will demonstrate the <code>generate_target()</code> function with target features specified by the spectral entropy and the first two autocorrelation coefficients.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<pre><code>#&gt; Warning: package &#39;dplyr&#39; was built under R version 4.0.5</code></pre>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:stats&#39;:
#&gt; 
#&gt;     filter, lag</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:base&#39;:
#&gt; 
#&gt;     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a>my_features &lt;-<span class="st"> </span><span class="cf">function</span>(y) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a>  <span class="kw">c</span>(<span class="kw">entropy</span>(y), <span class="dt">acf =</span> <span class="kw">acf</span>(y, <span class="dt">plot =</span> <span class="ot">FALSE</span>)<span class="op">$</span>acf[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a>}</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a>df &lt;-<span class="st"> </span><span class="kw">generate_target</span>(</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>  <span class="dt">length =</span> <span class="dv">60</span>, <span class="dt">feature_function =</span> my_features, <span class="dt">target =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">0.8</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a><span class="st"> </span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a><span class="st"> </span><span class="kw">group_by</span>(key) <span class="op">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">value =</span> <span class="kw">my_features</span>(value), </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a>           <span class="dt">feature=</span><span class="kw">c</span>(<span class="st">&quot;entropy&quot;</span>,<span class="st">&quot;acf1&quot;</span>, <span class="st">&quot;acf2&quot;</span>),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a>           <span class="dt">.groups =</span> <span class="st">&quot;drop&quot;</span>) </span></code></pre></div>
<pre><code>#&gt; # A tibble: 30 x 3
#&gt;    key       value feature
#&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;  
#&gt;  1 Series 1  0.481 entropy
#&gt;  2 Series 1  0.902 acf1   
#&gt;  3 Series 1  0.783 acf2   
#&gt;  4 Series 10 0.491 entropy
#&gt;  5 Series 10 0.900 acf1   
#&gt;  6 Series 10 0.790 acf2   
#&gt;  7 Series 2  0.464 entropy
#&gt;  8 Series 2  0.914 acf1   
#&gt;  9 Series 2  0.825 acf2   
#&gt; 10 Series 3  0.443 entropy
#&gt; # ... with 20 more rows</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">autoplot</span>(value)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="arima-and-ets-models" class="section level1">
<h1>ARIMA and ETS models</h1>
<p>Just as <code>mar_model()</code> returns a MAR model, <code>arima_model()</code> and <code>ets_model()</code> will return ARIMA and ETS models. In all cases, elements will be selected randomly if the corresponding argument is omitted. For example,</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>mod &lt;-<span class="st"> </span><span class="kw">arima_model</span>(<span class="dt">frequency =</span> <span class="dv">4</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a>mod</span></code></pre></div>
<pre><code>#&gt; Series: 
#&gt; ARIMA(2,1,1)(1,0,2)[4] with drift 
#&gt; 
#&gt; Coefficients:
#&gt;     ar1      ar2      ma1     sar1     sma1     sma2    drift  
#&gt; -0.0261   0.7914   0.3401  -0.8150  -0.4493  -0.5255  -2.8906  
#&gt; 
#&gt; sigma^2 = 23.17</code></pre>
<p>This can then be passed to <code>generate()</code> or <code>simulate()</code> to obtain synthetic data from the model. The <code>simulate</code> methods for ARIMA and ETS models are actually from the forecast package rather than the gratis package.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
